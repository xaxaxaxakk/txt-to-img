<html>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>로그 발췌</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <link type="text/css" rel="stylesheet" href="./style.css" />
    <script src="./index.js"></script>
    <script src="./etc.js"></script>
  </head>
  <body id="text-to-image">
    <div id="how_to_use">
      <i class="fa-solid fa-lightbulb"></i>
      V 1.3.2
    </div>
    <div class="how_to_use_box">
      <span>
        🔹 기본 사용법
        <span>1. 각종 옵션들을 설정한 다음, 미리보기 확인 후 다운로드</span>
        <span>2. 설정한 옵션을 계속 사용할 경우 프리셋에 등록하기 (프리셋은 문서 아이콘 버튼을 클릭해 파일로 저장하고 불러올 수 있습니다.)</span>
      </span>
      <span>
        🔹 추가 기능 (251010 UPDATE)
        <span>1. 마크다운 문법: *이탤릭*, **볼드**, ***볼드 이탤릭***, ~~취소선~~, __밑줄__ (마크다운 폰트색상 지원)</span>
        <span>
          2. 로컬폰트: ttf/otf/woff/woff2 형식의 폰트 파일을 직접 업로드해서 적용할 수 있습니다. 로컬 폰트는 <b>삭제</b> 버튼을 누르거나 <b>페이지를 새로고침하기 전까지</b>는 적용된 상태를 유지합니다.<br />
          이 폰트는 프리셋과 브라우저 캐시에 저장되지 않습니다.
        </span>
        <span>
          3-1. 단어 치환: 대소문자(영), 단어 단위(한/영) 토글 지원, 다중문자 처리 지원 (문자||문자 형식)<br/>
          3-2. 미리보기 수동/자동 전환 토글 지원
        </span>
        <span>
          4. 봇카드: 봇카드(png/json) 파일을 불러와 디스크립션/그리팅/시나리오를 볼 수 있고, 수정 후 추출(저장)할 수 있습니다.
        </span>
      </span>
      <span>
        🔹 하이라이트
        <span>기본 형식: =(#글씨색상코드|#배경색상코드) 문장=</span>
        <span>
          색상코드는 #000000와 같은 6자리의 간단한 헥스코드만 가능합니다. (rgba, rgb 등은 지원하지 않습니다.)
          <br />
          예시: =(#ffffff|#000000)문장테스트=
        </span>
        <span>(#ffffff)처럼 단독으로 적어서 글씨색만 변경할 수 있고, (|#ffffff)처럼 파이프를 앞에 추가해 배경색만 지정할 수도 있습니다.</span>
      </span>
    </div>
    <div class="text-to-image-converter-settings">
      <div class="inline-drawer">
        <div class="inline-drawer-content">
          <div class="flex-container">
            <h4>
              <i class="fa-solid fa-floppy-disk"></i>
              프리셋
              <button id="import_preset" class="buttons">
                <i class="fa-solid fa-file-import"></i>
              </button>
              <button id="backup_preset" class="buttons">
                <i class="fa-solid fa-file-export"></i>
              </button>
            </h4>
            <div class="preset-control">
              <input type="text" id="preset_name" placeholder="프리셋 이름" />
              <button id="create_preset" class="buttons">
                <i class="fa-solid fa-check"></i>
              </button>
            </div>
            <div class="preset-control">
              <select id="preset_selector" class="text-to-image-select"></select>
              <span>
                <button id="save_preset" class="buttons">
                  <i class="fa-solid fa-floppy-disk"></i>
                </button>
                <button id="rename_preset" class="buttons">
                  <i class="fa-solid fa-pen"></i>
                </button>
                <button id="delete_preset" class="buttons clear">
                  <i class="fa-solid fa-trash"></i>
                </button>
              </span>
            </div>
          </div>

          <div class="flex-container botCard">
            <h4>
              <i class="fa-solid fa-robot"></i>
              봇카드
            </h4>
            <div class="bot-datas">
              <button class="bot-data botImporter"></button>
              <button class="bot-data" data-type="description">
                <i class="fa-solid fa-address-card"></i>
              </button>
              <button class="bot-data" data-type="greeting">
                <i class="fa-solid fa-message"></i>
              </button>
              <button class="bot-data" data-type="scenario">
                <i class="fa-solid fa-video"></i>
              </button>
              <button class="bot-data botSaver" disabled>
                <i class="fa-solid fa-floppy-disk"></i>
              </button>
            </div>
          </div>

          <div class="flex-container">
            <h4>
              <i class="fa-solid fa-pen"></i>
              텍스트 입력
              <div class="preview-control">
                <input type="checkbox" id="preview_toggle" name="preview_toggle" style="display: none" />
                <label for="preview_toggle">미리보기</label>
              </div>
            </h4>
            <textarea id="text_to_image" placeholder="여기에 텍스트를 입력하세요"></textarea>
            <div class="text-field-buttons">
              <button id="clear_text_btn" class="clear-btn">
                <i class="fa-solid fa-eraser"></i>
                내용 삭제
              </button>
              <button id="restore_text_btn" class="buttons">
                <i class="fa-solid fa-rotate-right"></i>
              </button>
            </div>
          </div>

          <div class="flex-container">
            <h4>
              <i class="fa-solid fa-exchange-alt"></i>
              단어 치환
              <div class="replace-control">
                <input type="checkbox" id="letter_control" name="letter_control" style="display: none" />
                <label for="letter_control">Aa</label>
                <input type="checkbox" id="unit_control" name="unit_control" style="display: none" />
                <label for="unit_control">ab</label>
              </div>
            </h4>
            <div class="flex-container">
              <input type="text" id="original_word_1" class="replacer_box" placeholder="원래 단어" />
              <input type="text" id="replacement_word_1" class="replacer_box" placeholder="바꿀 단어" />
            </div>
            <div class="flex-container">
              <input type="text" id="original_word_2" class="replacer_box" placeholder="원래 단어" />
              <input type="text" id="replacement_word_2" class="replacer_box" placeholder="바꿀 단어" />
            </div>
            <div class="flex-container">
              <input type="text" id="original_word_3" class="replacer_box" placeholder="원래 단어" />
              <input type="text" id="replacement_word_3" class="replacer_box" placeholder="바꿀 단어" />
            </div>
            <div class="flex-container">
              <input type="text" id="original_word_4" class="replacer_box" placeholder="원래 단어" />
              <input type="text" id="replacement_word_4" class="replacer_box" placeholder="바꿀 단어" />
            </div>
            <div class="replace-buttons">
              <button id="clear_replace" class="buttons clear">
                <i class="fa-solid fa-eraser"></i>
              </button>
              <button id="apply_replacement" class="buttons">
                <i class="fa-solid fa-pen-nib"></i>
              </button>
              <button id="restore_text" class="buttons">
                <i class="fa-solid fa-rotate-right"></i>
              </button>
            </div>
          </div>

          <div class="tab-container">
            <button class="tab-btn" data-tab="text-style">글꾸 설정</button>
            <button class="tab-btn" data-tab="background">배경 선택</button>
            <button class="tab-btn" data-tab="image-style">배경 편집</button>
            <button class="tab-btn" data-tab="footer">바닥글</button>
          </div>

          <div id="text-style" class="tab-content flex-container">
            <h4>텍스트 스타일 설정</h4>
            <label for="tti_font_family">글꼴</label>
            <select id="tti_font_family"></select>

            <div class="custom-font-uploader">
              <button id="upload-local-font" type="button" class="buttons">로컬 폰트 등록</button>
              <button id="delete-local-font" type="button" class="buttons" disabled>삭제</button>
            </div>

            <label for="tti_stroke_width">두께</label>
            <select id="tti_stroke_width">
              <option value="0">기본</option>
              <option value="0.8">세미 볼드</option>
              <option value="1.5">볼드</option>
            </select>

            <label for="tti_font_size">사이즈</label>
            <select id="tti_font_size">
              <option value="20px">20px</option>
              <option value="24px">24px</option>
              <option value="28px">28px</option>
              <option value="32px">32px</option>
              <option value="36px">36px</option>
              <option value="40px">40px</option>
              <option value="44px">44px</option>
            </select>

            <label for="tti_font_align">정렬</label>
            <select id="tti_font_align">
              <option value="left">왼쪽</option>
              <option value="center">중앙</option>
              <option value="right">오른쪽</option>
            </select>

            <label for="tti_font_color">색상</label>
            <input type="color" id="tti_font_color" value="#000000" />

            <label for="tti_line_break">줄바꿈</label>
            <select id="tti_line_break">
              <option value="byWord">단어 기준</option>
              <option value="byChar">글자 기준</option>
            </select>

            <div id="custom-font-color" class="flex-container hide">
              <h4>스타일 개별 색상<span>열기</span></h4>
              <div class="font-color-lists">
                <div class="italic-custom">
                  <input type="checkbox" id="use_italic_color" name="use_italic_color" />
                  <label>이탤릭</label>
                  <input type="color" id="tti_italic_font_color" value="#000000" />
                </div>
                <div class="bold-custom">
                  <input type="checkbox" id="use_bold_color" name="use_bold_color" />
                  <label>볼드</label>
                  <input type="color" id="tti_bold_font_color" value="#000000" />
                </div>
                <div class="boldItalic-custom">
                  <input type="checkbox" id="use_boldItalic_color" name="use_boldItalic_color" />
                  <label>볼드이탤릭</label>
                  <input type="color" id="tti_boldItalic_font_color" value="#000000" />
                </div>
                <div class="strikethrough-custom">
                  <input type="checkbox" id="use_strikethrough_color" name="use_strikethrough_color" />
                  <label>취소선</label>
                  <input type="color" id="tti_strikethrough_font_color" value="#000000" />
                </div>
                <div class="underline-custom">
                  <input type="checkbox" id="use_underline_color" name="use_underline_color" />
                  <label>밑줄</label>
                  <input type="color" id="tti_underline_font_color" value="#000000" />
                </div>
              </div>
            </div>
          </div>

          <div id="background" class="tab-content flex-container">
            <h4>배경 종류 선택</h4>
            <h5>배경 색상</h5>
            <div class="bgColor">
              <input type="checkbox" id="use_background_color" name="use_background_color" />
              <input type="color" id="background_color" name="background_color" />
            </div>
            <h5>
              <i class="fa-solid fa-image"></i>
              배경 이미지
            </h5>
            <div id="background_image_gallery" class="background-gallery"></div>
            <h5 class="custom-bg">
              <i class="fa-solid fa-cloud-arrow-up"></i>
              커스텀 이미지
            </h5>
            <div class="custom-bg-upload">
              <label for="bg_image_upload" class="upload-btn">이미지 업로드</label>
              <input type="file" id="bg_image_upload" accept="image/*" style="display: none" />
            </div>
            <div id="custom_background_gallery" class="background-gallery"></div>
          </div>

          <div id="image-style" class="tab-content flex-container">
            <h4>이미지 스타일 설정</h4>
            <label>비율</label>
            <select id="tti_ratio">
              <option value="square">정사각형</option>
              <option value="rectangular">직사각형</option>
              <option value="longer">더 길게</option>
            </select>
            <label>블러</label>
            <input type="range" id="bg_blur" min="0" max="10" step="0.1" />
            <label>밝기</label>
            <input type="range" id="bg_brightness" min="40" max="180" step="5" />
            <label>흑백</label>
            <input type="range" id="bg_grayscale" min="0" max="100" step="1" />
            <label>색조</label>
            <input type="range" id="bg_hue" min="0" max="360" step="3" />
            <label>노이즈</label>
            <input type="range" id="bg_noise" min="0" max="100" step="1" />
            <label>오버레이</label>
            <input type="range" id="overlay_opacity" min="0" max="1" step="0.01" />
            <label>오버레이색</label>
            <input type="color" id="overlay_color" />
          </div>

          <div id="footer" class="tab-content flex-container">
            <h4>바닥글 추가</h4>
            <label>텍스트</label>
            <input type="text" id="footer_text" placeholder="" />
            <label>색상</label>
            <input type="color" id="footer_color" />
          </div>

          <div class="flex-container" id="image_preview_box">
            <h4>
              <i class="fa-solid fa-eye"></i>
              미리보기
              <div class="refresh-preview">
                <i class="fa-solid fa-arrows-rotate"></i>
              </div>
            </h4>
            <div id="image_preview_container" class="image-preview"></div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
